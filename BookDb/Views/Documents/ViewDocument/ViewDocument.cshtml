@model BookDb.Views.Documents.ViewDocumentModel

@{
    ViewData["Title"] = Model.GetDocumentTitle();
    var filePath = Url.Content(Model.GetFilePath());
    var fileExt = System.IO.Path.GetExtension(filePath)?.TrimStart('.').ToLowerInvariant() ?? "";
}

<!-- Include styles -->
@Html.Partial("_ViewDocumentStyles")

<div class="viewer-container">
    <!-- Sidebar -->
    @Html.Partial("_ViewDocumentSidebar", Model)

    <!-- Main Viewer -->
    <div class="viewer-main">
        <!-- Toolbar -->
        @Html.Partial("_ViewDocumentToolbar")

        <!-- Content Area -->
        @Html.Partial("_ViewDocumentContent")

        <!-- Search Panel -->
        @Html.Partial("_ViewDocumentSearchPanel")

        <!-- Loading Overlay -->
        @Html.Partial("_ViewDocumentLoadingOverlay")
    </div>
</div>

@section Scripts {
    <!-- Include JavaScript modules -->
    @Html.Partial("_ViewDocumentScripts", new {
    FileUrl = filePath,
        FileExt = fileExt,
        DocumentId = Model.GetDocumentId(),
        DocumentTitle = Model.GetSafeTitle()
    })
}