@model BookDb.Views.Documents.ViewDocumentModel

@{
    ViewData["Title"] = Model.GetDocumentTitle();
    var filePath = Url.Content(Model.GetFilePath());
    var fileExt = System.IO.Path.GetExtension(filePath)?.TrimStart('.').ToLowerInvariant() ?? "";
}

<!-- Include styles -->
@Html.Partial("~/Views/Documents/ViewDocument/_ViewDocumentStyles.cshtml")

<div class="viewer-container">
    <!-- Sidebar -->
    @Html.Partial("~/Views/Documents/ViewDocument/_ViewDocumentSidebar.cshtml", Model)

    <!-- Main Viewer -->
    <div class="viewer-main">
        <!-- Toolbar -->
        @Html.Partial("~/Views/Documents/ViewDocument/_ViewDocumentToolbar.cshtml")

        <!-- Content Area -->
        @Html.Partial("~/Views/Documents/ViewDocument/_ViewDocumentContent.cshtml")

        <!-- Search Panel -->
        @Html.Partial("~/Views/Documents/ViewDocument/_ViewDocumentSearchPanel.cshtml")

        <!-- Loading Overlay -->
        @Html.Partial("~/Views/Documents/ViewDocument/_ViewDocumentLoadingOverlay.cshtml")
    </div>
</div>

@section Scripts {
    <!-- Include JavaScript modules -->
    @Html.Partial("~/Views/Documents/ViewDocument/_ViewDocumentScripts.cshtml", new {
    FileUrl = filePath,
        FileExt = fileExt,
        DocumentId = Model.GetDocumentId(),
        DocumentTitle = Model.GetSafeTitle()
    })
}